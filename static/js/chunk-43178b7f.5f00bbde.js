(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43178b7f"],{"09f4":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),Math.easeInOutQuad=function(t,e,n,a){return t/=a/2,t<1?n/2*t*t+e:(t--,-n/2*(t*(t-2)-1)+e)};var a=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function r(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function o(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function i(t,e,n){var i=o(),s=t-i,c=20,u=0;e="undefined"===typeof e?500:e;var l=function(){u+=c;var t=Math.easeInOutQuad(u,i,s,e);r(t),u<e?a(l):n&&"function"===typeof n&&n()};l()}},1450:function(t,e,n){"use strict";n.d(e,"c",(function(){return m})),n.d(e,"b",(function(){return h})),n.d(e,"a",(function(){return v}));var a=n("c7eb"),r=n("1da1"),o=(n("e9c4"),n("b64b"),n("b775"));function i(t){return Object(o["a"])({url:"/cms/cdn/getSignature",method:"post",data:t})}var s=n("40b3"),c=null,u=null,l=null,p=function(){var t=Object(r["a"])(Object(a["a"])().mark((function t(){var e,n;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d();case 2:return e=t.sent,c=e.bucket,u=e.region,l=e.cdnHost,n=new s({SecretId:e.credentials.tmpSecretId,SecretKey:e.credentials.tmpSecretKey,SecurityToken:e.credentials.sessionToken}),t.abrupt("return",n);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function d(){return f.apply(this,arguments)}function f(){return f=Object(r["a"])(Object(a["a"])().mark((function t(){var e,n;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=localStorage.getItem("ossSign"),e&&null!=e&&""!==e&&!((new Date).getTime()>JSON.parse(e).expireTime)){t.next=9;break}return t.next=4,i();case 4:return n=t.sent,n.data.expireTime=(new Date).getTime()+18e5,localStorage.setItem("ossSign",JSON.stringify(n.data)),e=n.data,t.abrupt("return",e);case 9:return t.abrupt("return",JSON.parse(e));case 10:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}function m(t,e,n){return b.apply(this,arguments)}function b(){return b=Object(r["a"])(Object(a["a"])().mark((function t(e,n,r){var o,i;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p();case 3:return o=t.sent,t.next=6,o.sliceUploadFile({Bucket:c,Region:u,Key:e,Body:n,onProgress:function(t){r(t.percent)}});case 6:return i=t.sent,t.abrupt("return",i);case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])}))),b.apply(this,arguments)}function h(t){return w.apply(this,arguments)}function w(){return w=Object(r["a"])(Object(a["a"])().mark((function t(e){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p();case 2:return t.sent,t.abrupt("return",l+e);case 4:case"end":return t.stop()}}),t)}))),w.apply(this,arguments)}function v(t){return g.apply(this,arguments)}function g(){return g=Object(r["a"])(Object(a["a"])().mark((function t(e){var n,r;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p();case 3:return n=t.sent,t.next=6,n.deleteObject({Bucket:c,Region:u,Key:e});case 6:return r=t.sent,t.abrupt("return",r);case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])}))),g.apply(this,arguments)}},"21a6":function(t,e,n){(function(n){var a,r,o;(function(n,i){r=[],a=i,o="function"===typeof a?a.apply(e,r):a,void 0===o||(t.exports=o)})(0,(function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function a(t,e,n){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){c(a.response,e,n)},a.onerror=function(){console.error("could not download file")},a.send()}function r(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(a){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,s=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(t,e,n){var s=i.URL||i.webkitURL,c=document.createElement("a");e=e||t.name||"download",c.download=e,c.rel="noopener","string"==typeof t?(c.href=t,c.origin===location.origin?o(c):r(c.href)?a(t,e,n):o(c,c.target="_blank")):(c.href=s.createObjectURL(t),setTimeout((function(){s.revokeObjectURL(c.href)}),4e4),setTimeout((function(){o(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,i){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,i),n);else if(r(t))a(t,n,i);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout((function(){o(s)}))}}:function(t,e,n,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return a(t,e,n);var o="application/octet-stream"===t.type,c=/constructor/i.test(i.HTMLElement)||i.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||o&&c||s)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var t=l.result;t=u?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},l.readAsDataURL(t)}else{var p=i.URL||i.webkitURL,d=p.createObjectURL(t);r?r.location=d:location.href=d,r=null,setTimeout((function(){p.revokeObjectURL(d)}),4e4)}});i.saveAs=c.saveAs=c,t.exports=c}))}).call(this,n("c8ba"))},5248:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return c}));var a=n("b775");function r(t){return Object(a["a"])({url:"/cms/article/pageListBy",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/cms/article/get",method:"post",data:t})}function i(t){return Object(a["a"])({url:"/cms/article/create",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/cms/article/update",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/api/seo/siteMap",method:"post",data:t})}},"66dc":function(t,e,n){},"9d25":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("el-form",{attrs:{inline:!0,"v-model":t.listQuery}},[n("el-form-item",{attrs:{label:"是否显示"}},[n("el-select",{staticClass:"filter-item",staticStyle:{width:"110px","margin-left":"10px"},attrs:{placeholder:"是否显示",clearable:""},on:{change:t.getList},model:{value:t.listQuery.status,callback:function(e){t.$set(t.listQuery,"status",e)},expression:"listQuery.status"}},t._l(t.statusList,(function(t){return n("el-option",{key:t.key,attrs:{label:t.value,value:t.key}})})),1)],1)],1),n("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.handleCreate}},[t._v(" 添加游戏 ")]),n("el-button",{staticClass:"filter-item",attrs:{type:"success"},on:{click:t.createSitemap}},[t._v(" 生成并下载站点地图 ")])],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{label:"ID",prop:"id",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("span",[t._v(t._s(a.id))])]}}])}),n("el-table-column",{attrs:{label:"图片",width:"200px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("span",[a.imgUrl?n("OssImg",{attrs:{url:a.imgUrl,width:120}}):t._e(),n("br")],1)]}}])}),n("el-table-column",{attrs:{label:"标题",width:"300px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("span",[t._v(t._s(a.title))])]}}])}),n("el-table-column",{attrs:{label:"简介",width:"350px",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("span",[t._v(t._s(a.summary))])]}}])}),n("el-table-column",{attrs:{label:"是否置顶",width:"100px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[0==a.isTop?n("span",[t._v("否")]):t._e(),1==a.isTop?n("el-tag",{attrs:{type:"success"}},[t._v("置顶")]):t._e()]}}])}),n("el-table-column",{attrs:{label:"是否显示",width:"100px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[0==a.status?n("span",[t._v("否")]):t._e(),1==a.status?n("el-tag",{attrs:{type:"success"}},[t._v("是")]):t._e()]}}])}),n("el-table-column",{attrs:{label:"发布时间",width:"250px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("span",[t._v(t._s(a.releaseTime))]),n("br")]}}])}),n("el-table-column",{attrs:{label:"操作",align:"center",width:"300","class-name":"small-padding fixed-width",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[1===a.isTop?n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(e){return t.updateIsTop(a.id,0)}}},[t._v(" 取消置顶 ")]):t._e(),0===a.isTop?n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.updateIsTop(a.id,1)}}},[t._v(" 置顶 ")]):t._e(),1===a.status?n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(e){return t.updateStatus(a.id,0)}}},[t._v(" 隐藏 ")]):t._e(),0===a.status?n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.updateStatus(a.id,1)}}},[t._v(" 显示 ")]):t._e(),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.handleUpdate(a.id)}}},[t._v(" 更新 ")])]}}])})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.listQuery.pageNo,limit:t.listQuery.pageSize},on:{"update:page":function(e){return t.$set(t.listQuery,"pageNo",e)},"update:limit":function(e){return t.$set(t.listQuery,"pageSize",e)},pagination:t.getList}})],1)},r=[],o=n("c7eb"),i=n("1da1"),s=(n("99af"),n("d3b7"),n("159b"),n("5248")),c=n("333d"),u=n("3759"),l=n("21a6"),p={name:"Article",components:{Pagination:c["a"],OssImg:u["a"]},data:function(){return{listQuery:{pageNo:1,pageSize:20,status:""},total:0,statusList:[{key:0,value:"否"},{key:1,value:"是"}],tagList:[],list:null}},created:function(){this.getList()},methods:{getList:function(){var t=this;Object(s["c"])(this.listQuery).then((function(e){t.list=e.data.records,t.total=e.data.total}))},handleCreate:function(){this.$router.push({path:"edit",query:{id:""}})},handleUpdate:function(t){this.$router.push({path:"edit",query:{id:t}})},updateIsTop:function(t,e){var n=this;Object(s["d"])({id:t,isTop:e}).then((function(t){n.getList(),n.$notify({title:"成功",message:"操作成功",type:"success",duration:2e3})}))},updateStatus:function(t,e){var n=this;Object(s["d"])({id:t,status:e}).then((function(t){n.getList(),n.$notify({title:"成功",message:"操作成功",type:"success",duration:2e3})}))},createSitemap:function(){return Object(i["a"])(Object(o["a"])().mark((function t(){var e,n,a,r;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(s["e"])();case 3:e=t.sent,n=e.data,a='<?xml version="1.0" encoding="UTF-8"?>\n',a+='<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9" xmlns:image="http://www.google.com/schemas/sitemap-image/1.1">\n',n.forEach((function(t){a+="  <url>\n",a+="    <loc>https://lelejoy.com/".concat(t.type,"/").concat(t.id,"</loc>\n"),a+="    <lastmod>".concat(new Date,"</lastmod>\n"),a+="    <changefreq>daily</changefreq>\n",a+="    <priority>1.0</priority>\n",t.image&&(a+="    <image:image>\n",a+="      <image:loc>https://www.lelejoy.com/favicon.ico</image:loc>\n",a+="    </image:image>\n"),a+="  </url>\n"})),a+="</urlset>",r=new Blob([a],{type:"application/xml"}),Object(l["saveAs"])(r,"sitemap.xml"),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),console.error("生成站点地图失败:",t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()}}},d=p,f=(n("bdd1"),n("2877")),m=Object(f["a"])(d,a,r,!1,null,"5070c022",null);e["default"]=m.exports},bdd1:function(t,e,n){"use strict";n("66dc")}}]);